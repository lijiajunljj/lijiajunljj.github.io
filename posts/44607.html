<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>在Github上修改文件后jsDelivr调取时仍然调取之前的缓存</title>
  <meta name="description" content="今天把网站恢复正常时发现我的首页背景图还是和昨天的一样（其实网页头像也是如此），当时就是这个问题而搞得我花一下午的时间来解决">
<meta property="og:type" content="article">
<meta property="og:title" content="在Github上修改文件后jsDelivr调取时仍然调取之前的缓存">
<meta property="og:url" content="https://blog.lijiakaijun.cyou/posts/44607.html">
<meta property="og:site_name" content="lijiakaijun">
<meta property="og:description" content="今天把网站恢复正常时发现我的首页背景图还是和昨天的一样（其实网页头像也是如此），当时就是这个问题而搞得我花一下午的时间来解决">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://lijiakaijun.me/favicon.png">
<meta property="article:published_time" content="2020-04-05T08:13:30.000Z">
<meta property="article:modified_time" content="2021-03-12T12:36:23.772Z">
<meta property="article:author" content="lijiakaijun">
<meta property="article:tag" content="网站">
<meta property="article:tag" content="Github">
<meta property="article:tag" content="jsDelivr">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://lijiakaijun.me/favicon.png">
   
      <meta name="google-site-verification" content="jOi4iM44VrK4ENrdczDx_VtNqHH22-OANeJ79eH_nC8">
    
    
      <meta name="baidu-site-verification" content="code-mvq5mLso9B">
    
    
      <meta name="msvalidate.01" content="37B06BA3B108C8529420F89DC3BD917C">
    
    
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?2f1a57de41be9f13230db6a0f96213d8";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
    

  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-147974252-3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'UA-147974252-3');
  </script>
  
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sindresorhus/github-markdown-css/github-markdown.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/layout.css">
  <script defer="defer" src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js"></script>
  <script defer="defer" src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
<meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="lijiakaijun" type="application/atom+xml">
</head>

<body>
    <div class="page">
  <div class="title">在Github上修改文件后jsDelivr调取时仍然调取之前的缓存</div>
<br><div><i class="fa fa-calendar"> 2020-04-05</i>
                        <i class="fa fa-edit">
                        
                        
                            433
                        
                        字</i> 
<a href="javascript:history.go(-1);"><i class="fa fa-angle-left" aria-hidden="true"> 返回</i></a></div>
  <div class="content markdown-body">
<p>今天把网站恢复正常时发现我的首页背景图还是和昨天的一样（其实网页头像也是如此），当时就是这个问题而搞得我花一下午的时间来解决</p>
<a id="more"></a>

<p>最先开始我解决头像不能换回来这个问题我是直接修改后缀名然后重新上传一次就解决了</p>
<p>但是背景图的话如果我要改后缀名的话那我还要去改主题代码，但是我懒得去找这个代码了</p>
<p>于是……</p>
<p>翻了下jsDelivr的<a target="_blank" rel="noopener" href="https://www.jsdelivr.com/features">文档</a>发现了这个东西</p>
<p><img src="https://gitee.com/lijiajunljj/wdbktc/raw/master/20200405165448.webp" alt="20200405165448.png"></p>
<p>于是我就尝试去修改（因为主题配置文件那里有cdn访问加速选项）</p>
<p>修改后刷新一下缓存，搞定！</p>
<hr>
<p>在写这篇文章之前我还看了一眼官方文档，然后看到了这个…</p>
<p><img src="https://gitee.com/lijiajunljj/wdbktc/raw/master/20200405165543.webp" alt="20200405165543.png"></p>
<p>然后我就按照格式输入进去后发现了这个页面…（因为没有版本所以就直接不加@）</p>
<p><img src="https://gitee.com/lijiajunljj/wdbktc/raw/master/20200405165606.webp" alt="20200405165606.png"></p>
<p>然后我去找背景图片的文件夹，然后打开了0.jpg……</p>
<p>发现网址那边加了个**@master**</p>
<p>然后我删掉@master再访问，发现访问的还是昨天的图片</p>
<p>放张图去对比一下</p>
<p><img src="https://gitee.com/lijiajunljj/wdbktc/raw/master/Snipaste-2020-04-05-16-08-41.webp" alt="对比"></p>
<p>那也就是说……只要在仓库名后面加个@master，jsDelivr就会请求这个仓库下master分支下的文件咯？</p>

  <div class="markdown-body">
<br>
<p>
  点击切换到：<a class="comments-type active">Disqusjs</a> | <a class="comments-type">Valine</a> 评论系统&nbsp;&nbsp;<a target="_blank" rel="noopener" href="http://github.com/lijiajunljj/lijiakaijun-blog/edit/master/source/_posts/2020-04-05 16_13_30 在Github上修改文件后jsDelivr调取时仍然调取之前的缓存.md"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
</p>
<style>
  .comments-mode {
    display:none
  }
  .comments-type.active {
    background-color:#ff0
  }
  .show {
    display:block
  }
</style>

<div class="comments-mode show">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/disqusjs@1.3/dist/disqusjs.css">
<script src="https://cdn.jsdelivr.net/npm/disqusjs@1.3/dist/disqus.js"></script>
    <div id="disqus_thread"></div>
<script>
       window.DISQUS=null,new DisqusJS({
            shortname: 'lijiakaijun',
            siteName: 'lijiakaijun',
            api: 'https://disqus.skk.moe/disqus/',
            apikey: 'KMU16gOxMF4AX6Is5aKv5O2x8iLiIWY8tVhaokv6vY1KTR9JUrcLCXGxKpuLEDJu',
            admin: 'lijiakaijun',
            adminLabel: 'lijia'
    });
</script>
<noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="https://github.com/SukkaW/DisqusJS">comments powered by DisqusJS.</a></noscript>
</div>

<div class="comments-mode">
    <script src="https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js"></script>
<div id="v-comments" class="post-comments"></div>
<script>
    new Valine({
        el: '#v-comments',
        appId: 'GKbU6pAC42Hgci3yzuNYNn0w-MdYXbMMI',
        appKey: 'OJ56tftp292ntCQW5iLWQboE',
        visitor: false,
        path: '/posts/44607.html'
    });
</script>
</div>

<script>
    var comments_type = document.getElementsByClassName("comments-type")
    var comments_mode = document.getElementsByClassName("comments-mode")
    for(var i=0;i<comments_type.length;i++){
    comments_type[i].index = i; // 储存所有键值
    comments_type[i].onclick = function(){
      // 点击事件的实现功能，this就是点击的comments-type
      for(var j=0;j<comments_type.length;j++){
          comments_type[j].className = comments_type[j].className.replace(' active', '').trim();
          comments_mode[j].className = comments_mode[j].className.replace(' show', '').trim();
      }
      
      // 再给应该添加的对象添加className
      this.className = this.className + ' active';
      comments_mode[this.index].className = comments_mode[this.index].className + ' show';
    };
}
</script>
</div>
  <div class="markdown-body">
    
    主题刚换还没来得及完善，评论什么的后面再说<br>采用 CC BY-NC-SA 4.0 许可协议，著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。<br><span id="busuanzi_container_site_pv">本站总访问量  <span id="busuanzi_value_site_pv"></span>次  </span><span id="busuanzi_container_site_uv">|  本站访客数<span id="busuanzi_value_site_uv"></span>人次</span><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <br>
    
    <small>© 2020 <a href="/">lijiakaijun</a> - Powered By <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a> And <a target="_blank" rel="noopener" href="https://github.com/Anillc/merry">Merry</a></small>
  </div>
</div></div></body>

</html>
