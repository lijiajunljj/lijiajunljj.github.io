<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>测试Hexo在Github上在线编辑并自动推送到Github Pages</title>
  <meta name="description" content="在线编辑参考这里">
<meta property="og:type" content="article">
<meta property="og:title" content="测试Hexo在Github上在线编辑并自动推送到Github Pages">
<meta property="og:url" content="https://blog.lijiakaijun.cyou/posts/43943.html">
<meta property="og:site_name" content="lijiakaijun">
<meta property="og:description" content="在线编辑参考这里">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://lijiakaijun.me/favicon.png">
<meta property="article:published_time" content="2020-08-28T11:18:31.000Z">
<meta property="article:modified_time" content="2021-03-08T15:17:52.410Z">
<meta property="article:author" content="lijiakaijun">
<meta property="article:tag" content="网站">
<meta property="article:tag" content="Github">
<meta property="article:tag" content="Hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://lijiakaijun.me/favicon.png">
   
      <meta name="google-site-verification" content="jOi4iM44VrK4ENrdczDx_VtNqHH22-OANeJ79eH_nC8">
    
    
      <meta name="baidu-site-verification" content="code-mvq5mLso9B">
    
    
      <meta name="msvalidate.01" content="37B06BA3B108C8529420F89DC3BD917C">
    
    
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?2f1a57de41be9f13230db6a0f96213d8";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
    

  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-147974252-3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'UA-147974252-3');
  </script>
  
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sindresorhus/github-markdown-css/github-markdown.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
  <link rel="stylesheet" href="/css/layout.css">
  <script defer="defer" src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js"></script>
  <script defer="defer" src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
<meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="lijiakaijun" type="application/atom+xml">
</head>

<body>
  <div class="page">
  <div class="title">测试Hexo在Github上在线编辑并自动推送到Github Pages</div>
  <div class="content markdown-body"><p>在线编辑参考<a target="_blank" rel="noopener" href="https://blog.ichr.me/post/automated-deployment-of-serverless-static-blog/">这里</a></p>
<a id="more"></a>

<hr>
<p>这里应该是详细的解释这个过程是怎么实现的</p>
<p>毕竟看到gihtub actions我就想到说可以来个自动化啊，这样就不用本地了啊，而且还起到了直接备份博客的作用（只要自己的Github密码不会忘记）</p>
<h2 id="如何实现在Github上在线编辑"><a href="#如何实现在Github上在线编辑" class="headerlink" title="如何实现在Github上在线编辑"></a>如何实现在Github上在线编辑</h2><p>我因为已经有了github pages仓库，不想全部重来，于是就参考了<a target="_blank" rel="noopener" href="https://blog.ichr.me/post/automated-deployment-of-serverless-static-blog/#%E6%9C%9F%E6%9C%9B">初探无后端静态博客自动化部署方案</a>这篇文章来</p>
<h3 id="1-新建、同步一个仓库"><a href="#1-新建、同步一个仓库" class="headerlink" title="1.新建、同步一个仓库"></a>1.新建、同步一个仓库</h3><p>在github上新建一个仓库（这里就不放图了）</p>
<p>记得要的是空白仓库</p>
<p>然后我们在博客目录打开git来同步仓库</p>
<p>（这里还是不放图了www）</p>
<h3 id="2-生成一个SSH密钥"><a href="#2-生成一个SSH密钥" class="headerlink" title="2.生成一个SSH密钥"></a>2.生成一个SSH密钥</h3><p><strong>如果之前已经生成过的请直接忽略这一步骤！！！</strong></p>
<p>在Git里输入<code>ssh-keygen -t rsa -C &#39;你的电子邮箱&#39;</code></p>
<p>然后回车生成</p>
<p>就会在<code>C:\Users\用户名\.ssh</code>文件夹里生成2个文件，一般是这样的</p>
<p><img src="https://gitee.com/lijiajunljj/wdbktc/raw/master/2020/08/29/2047f58a8ff05338cf1133754e441f35.webp" alt="生成的文件"></p>
<p>然后我们打开id_rsa.pub这个文件，复制里面的内容</p>
<p>然后在你的Github头像下点Settings，点击“<a target="_blank" rel="noopener" href="https://github.com/settings/keys">SSH and GPG key</a>”，新建一个SSH key</p>
<p>Title自取，Key就粘贴刚刚复制的内容</p>
<p>然后点“Add SSH Key”</p>
<p>如果提示说要输入密码验证就输入密码</p>
<p>然后就成功了</p>
<p>例如我的就是这样</p>
<p><img src="https://gitee.com/lijiajunljj/wdbktc/raw/master/2020/08/29/a3e2136d865a0a8d384c25098a660bcf.webp" alt="因为我这刚刚推送过一次所以就有了"></p>
<h3 id="3-配置gihtub-actions"><a href="#3-配置gihtub-actions" class="headerlink" title="3.配置gihtub actions"></a>3.配置gihtub actions</h3><p>首先，请到<code>C:\Users\用户名\.ssh</code>文件夹里，找到名字为id_rsa的文件</p>
<p><strong>（注意是没有后缀的，没有后缀的，没有后缀的！）</strong></p>
<p>然后打开复制里面的内容</p>
<p>回到我们新建的仓库，点击“Settings”，然后……看图点吧</p>
<p><img src="https://gitee.com/lijiajunljj/wdbktc/raw/master/2020/08/29/f9ab1e4382ed12c135fb4783e2ca9794.webp"></p>
<p>然后……Name填<code>HEXO_DEPLOY_KEY</code>（当然你写自己喜欢的名字也行，但是要在下面代码中的<code>HEXO_DEPLOY_KEY</code>修改成你自己写的名）</p>
<p>之后点Add secrets</p>
<p>搞定后点击“Actions”，然后点击这里↓</p>
<p><img src="https://gitee.com/lijiajunljj/wdbktc/raw/master/2020/08/29/a92cfc5f0b96a18d1f650e275ab06675.webp" alt="图中框住的地方"></p>
<p>然后把下面的代码直接全选复制全选粘贴进去</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Hexo</span> <span class="string">Deploy</span> <span class="string">Automatically</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span> [<span class="string">push</span>]</span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    </span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">  </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Node.js</span> <span class="string">envs</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">actions/setup-node@v1</span></span><br><span class="line">      <span class="attr">with:</span></span><br><span class="line">        <span class="attr">node-version:</span> <span class="string">&quot;10.x&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Hexo</span> <span class="string">deploy</span></span><br><span class="line">      <span class="attr">env:</span></span><br><span class="line">        <span class="attr">HEXO_DEPLOY_KEY:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.HEXO_DEPLOY_KEY</span> <span class="string">&#125;&#125;</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">        <span class="string">mkdir</span> <span class="string">-p</span> <span class="string">~/.ssh/</span></span><br><span class="line">        <span class="string">echo</span> <span class="string">&quot;$HEXO_DEPLOY_KEY&quot;</span> <span class="string">&gt;</span> <span class="string">~/.ssh/id_rsa</span></span><br><span class="line">        <span class="string">chmod</span> <span class="number">600</span> <span class="string">~/.ssh/id_rsa</span></span><br><span class="line">        <span class="string">ssh-keyscan</span> <span class="string">github.com</span> <span class="string">&gt;&gt;</span> <span class="string">~/.ssh/known_hosts</span></span><br><span class="line">        <span class="string">git</span> <span class="string">config</span> <span class="string">--global</span> <span class="string">user.name</span> <span class="string">&quot;Your GitHub UserName&quot;</span></span><br><span class="line">        <span class="string">git</span> <span class="string">config</span> <span class="string">--global</span> <span class="string">user.email</span> <span class="string">&quot;you@example.com&quot;</span></span><br><span class="line">        <span class="string">npm</span> <span class="string">i</span> <span class="string">-g</span> <span class="string">hexo-cli</span></span><br><span class="line">        <span class="string">npm</span> <span class="string">i</span></span><br><span class="line">        <span class="string">hexo</span> <span class="string">clean</span> <span class="string">&amp;&amp;</span> <span class="string">hexo</span> <span class="string">generate</span> <span class="string">&amp;&amp;</span> <span class="string">hexo</span> <span class="string">deploy</span></span><br></pre></td></tr></table></figure>


<p>上面有些内容需要修改为自己的</p>
<p>然后点“Start commit”→“Commit new file”</p>
<p><img src="https://gitee.com/lijiajunljj/wdbktc/raw/master/2020/08/29/5ce1961c05a18e7020e3d01da925e0ff.webp"></p>
<p>然后就行了</p>
<h3 id="如何在线编辑呢？"><a href="#如何在线编辑呢？" class="headerlink" title="如何在线编辑呢？"></a>如何在线编辑呢？</h3><p>打开你新建的那个仓库，然后依次点击source_和posts文件夹</p>
<p>然后点击右边的Add file按钮，点击Create new file</p>
<p><img src="https://gitee.com/lijiajunljj/wdbktc/raw/master/2020/08/29/0329e7a13bf9d6b401388bb75f3b1a7b.webp"></p>
<p>然后你就看到了这个界面</p>
<p><img src="https://gitee.com/lijiajunljj/wdbktc/raw/master/2020/08/29/8a83daa7a7cf3905c7d1354f801a541f.webp"></p>
<p>对了，<strong>要自己手动复制scaffolds文件夹里的post.md文件里的全部内容到你新建的文件，然后再开始写……</strong></p>
<p>目前好像也没什么解决办法……</p>
<p>这就是缺点所在了</p>
<p>然后我们写完了，点击下面的Commit new file（修改文件时显示的是Commit changes）就完成了</p>
<p>稍等片刻就好</p>
</div>
</div>

  <div class="markdown-body">
    
    主题刚换还没来得及完善，评论什么的后面再说<br><span id="busuanzi_container_site_pv">&nbsp;&nbsp;|&nbsp;&nbsp;<li>本站总访问量<span id="busuanzi_value_site_pv"></span>次</li></span><span id="busuanzi_container_site_uv">&nbsp;&nbsp;|&nbsp;&nbsp;<li>本站访客数<span id="busuanzi_value_site_uv"></span>人次</li></span><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <br>
    
    <small>© 2020 <a href="/">lijiakaijun</a> - Powered By <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a> And <a target="_blank" rel="noopener" href="https://github.com/Anillc/merry">Merry</a></small>
  </div>
</body>

</html>
